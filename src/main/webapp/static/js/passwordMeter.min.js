(function(s){function r(){var r=l.value,a=o.value;s("#password-policy-violation-msg").hide(),s("#password-confirm-mismatch-msg").hide();var n=""===r||!e.test(r),c=""!==r&&r!==a,g=n||c;s("#submit").prop("disabled",g);var i=zxcvbn(r);if(s("#strengthProgressBar").zxcvbnProgressBar({passwordInput:"#password"}),""!==r){s("#password-strength-warning").text(i.feedback.warning),s("#password-strength-suggestions").text(i.feedback.suggestions);var d=t.alertClassDanger;switch(i.score){case 0:case 1:d=t.alertClassDanger;break;case 2:d=t.alertClassWarning;break;case 3:d=t.alertClassInfo;break;case 4:case 5:default:d=t.alertClassSuccess}s("#password-strength-icon").removeClass(t.allAlertClasses).addClass(d)}else s("#password-strength-icon").removeClass(t.allAlertClasses),s("#password-strength-warning").text(""),s("#password-strength-suggestions").text("");c&&""!==a&&s("#password-confirm-mismatch-msg").show(),n&&s("#password-policy-violation-msg").show()}var a=passwordStrengthI18n;s.fn.zxcvbnProgressBar=function(r){function e(){var r=l.progressBar,e=s("#password").val();if(e){var o=zxcvbn(e,l.userInputs),t=20*(o.score+1);s(r).css("width",t+"%"),0==o.score?(s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass0),s(r).html(a[0])):1==o.score?(s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass1),s(r).html(a[1])):2==o.score?(s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass2),s(r).html(a[2])):3==o.score?(s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass3),s(r).html(a[3])):4==o.score&&(s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass4),s(r).html(a[4]))}else s(r).css("width","0%"),s(r).removeClass(l.allProgressBarClasses).addClass(l.progressBarClass0),s(r).html("")}var l=s.extend({allProgressBarClasses:"progress-bar-danger progress-bar-warning progress-bar-success progress-bar-striped active",progressBarClass0:"progress-bar-danger progress-bar-striped active",progressBarClass1:"progress-bar-danger progress-bar-striped active",progressBarClass2:"progress-bar-warning progress-bar-striped active",progressBarClass3:"progress-bar-success",progressBarClass4:"progress-bar-success"},r);return this.each(function(){l.progressBar=this,e(),s(l.passwordInput).keyup(function(s){e()})})};var e=new RegExp(policyPattern),l=document.getElementById("password"),o=document.getElementById("confirmedPassword");l.addEventListener("input",r),o.addEventListener("input",r);var t={allAlertClasses:"fa-times-circle fa-exclamation-circle fa-info-circle fa-check-circle",alertClassDanger:"fa-times-circle",alertClassWarning:"fa-exclamation-circle",alertClassInfo:"fa-info-circle",alertClassSuccess:"fa-check-circle"}})(jQuery);